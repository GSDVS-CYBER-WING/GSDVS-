<!--Copyright © Microsoft Corporation. All rights reserved.
  适用于[License](https://github.com/YanjieGao/AI-System/blob/main/LICENSE)版权许可-->

- [7.2训练作业，镜像与容器](#72训练作业镜像与容器)
  - [7.2.1 深度学习作业](#721-深度学习作业)
  - [7.2.2 环境依赖：镜像](#722-环境依赖镜像)
  - [7.2.3 运行时资源隔离：容器](#723-运行时资源隔离容器)
  - [7.2.3 运行时资源隔离：容器](#723-运行时资源隔离容器-1)
  - [参考文献](#参考文献)

# 7.2训练作业，镜像与容器

## 7.2.1 深度学习作业
## 7.2.2 环境依赖：镜像
## 7.2.3 运行时资源隔离：容器

Dockerfile实例

```dockerfile
FROM nvidia/cuda:10.0-cudnn7-devel-ubuntu16.04
ARG PYTHON_VERSION=3.6
…
RUN apt-get update && apt-get install -y --no-install-recommends \
…
RUN curl -o ~/miniconda.sh 
…
 /opt/conda/bin/conda install -y -c pytorch magma-cuda100 && \
…
WORKDIR /opt/pytorch
COPY . .
…
WORKDIR /workspace
RUN chmod -R a+w .

```
## 7.2.3 运行时资源隔离：容器

## 参考文献 

- https://man7.org/linux/man-pages/man7/cgroups.7.html
- https://man7.org/linux/man-pages/man7/namespaces.7.html
- https://www.docker.com/
- https://docs.docker.com/engine/reference/commandline/image/
- https://hub.docker.com/
- https://www.docker.com/resources/what-container
- https://github.com/NVIDIA/nvidia-docker 
- Use the AUFS storage driver
- Making Containers More Isolated: An Overview of Sandboxed Container Technologies
- Jörg Thalheim, Pramod Bhatotia, Pedro Fonseca, and Baris Kasikci. 2018. CNTR: lightweight OS containers. In Proceedings of the 2018 USENIX Conference on Usenix Annual Technical Conference (USENIX ATC '18). USENIX Association, USA, 199–212.
- Edward Oakes, Leon Yang, Dennis Zhou, Kevin Houck, Tyler Harter, Andrea C. Arpaci-Dusseau, and Remzi H. Arpaci-Dusseau. 2018. SOCK: rapid task provisioning with serverless-optimized containers. In Proceedings of the 2018 USENIX Conference on Usenix Annual Technical Conference (USENIX ATC '18). USENIX Association, USA, 57–69.

